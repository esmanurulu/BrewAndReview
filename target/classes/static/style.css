:root {
    --bg-color: #fcf6f0; 
    --sketch-color: #2c241b; 
    --coffee-color: #3e2723; 
    --coffee-dark: #3e2723;
    --steam-color: rgba(198, 179, 179, 0.7); 
}

html, body {
    margin: 0;
    padding: 0;
    height: 100vh;
    width: 100vw;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: var(--bg-color);
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
    transition: background-color 1.5s ease;
}

body.brown-mode { background-color: var(--coffee-dark); }

/* --- INTRO YAPISI --- */
#intro-container {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 10;
}

.animation-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 500px; 
    height: 700px;
    pointer-events: none;
}

/* --- KAHVE AKINTISI --- */
.coffee-stream {
    position: absolute;
    top: 0px; 
    left: 50%;
    transform: translateX(-50%);
    width: 12px;
    height: 0;
    background-color: var(--coffee-dark);
    z-index: 15; 
    border-radius: 0 0 10px 10px;
    animation: pourCoffee 4s ease-in-out 0.5s forwards;
}

@keyframes pourCoffee {
    0% { height: 0; opacity: 1; top: -50px;}
    10% { height: 415px; opacity: 1; top: -50px; } 
    90% { height: 415px; opacity: 1; top: -50px; width: 10px;}
    100% { height: 0; opacity: 0; top: 300px; width: 0px;}
}

/* --- BARDAK ÇİZİMİ --- */
.sketch-cup-container {
    position: absolute;
    top: 200px; 
    left: 50%;
    transform: translateX(-50%);
    width: 200px; 
    height: 200px; 
    z-index: 10;
}

.sketch-cup {
    position: relative;
    width: 180px; 
    height: 160px; 
    border: 6px solid var(--sketch-color); 
    background-color: #fff;
    /* Bardağın altını ovalleştiren kod: */
    border-radius: 5% 5% 45% 45% / 10% 10% 40% 40%;
    overflow: hidden; /* Taşan kahveyi gizler */
    box-shadow: inset 5px -5px 0 rgba(0,0,0,0.05);
    z-index: 12; 
}

/* KAHVE DOLUM EFEKTİ */
.cup-fill {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 0%; /* Başlangıçta boş */
    background-color: var(--coffee-color);
    border-top: 5px solid rgba(0,0,0,0.1);
    /* 2.5 saniyede dolsun */
    animation: fillCup 2.5s linear 0.7s forwards;
}

@keyframes fillCup {
    0% { height: 0%; }
    100% { height: 95%; }
}

.sketch-handle {
    position: absolute;
    top: 30px;
    right: -10px;
    width: 60px; 
    height: 90px; 
    border: 6px solid var(--sketch-color);
    border-radius: 0 50% 50% 0;
    z-index: 5;
    transform: rotate(-5deg);
}

.sketch-plate {
    position: absolute;
    bottom: -20px;
    left: -25px;
    width: 230px; 
    height: 15px;
    background-color: var(--sketch-color);
    border-radius: 50%;
    opacity: 0.2;
}

/* --- LOGO YAZISI --- */
.intro-brand-text {
    position: absolute;
    bottom: -140px; 
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Patrick Hand', cursive;
    font-size: 5rem; 
    color: var(--coffee-dark);
    white-space: nowrap;
    opacity: 0;
    animation: textFadeIn 1.5s ease-out 1.0s forwards;
}

@keyframes textFadeIn {
    from { opacity: 0; transform: translateX(-50%) translateY(20px); }
    to { opacity: 1; transform: translateX(-50%) translateY(0); }
}

/* --- DUMANLAR --- */
.steam-wrapper {
    position: absolute;
    top: -120px; 
    left: 50%;
    transform: translateX(-50%);
    width: 200px;
    height: 250px;
    z-index: 20;
    opacity: 0;
    animation: steamStart 0.5s ease-in 0.8s forwards;
}
@keyframes steamStart { to { opacity: 1; } }

.steam {
    position: absolute;
    background: #fff;
    border-radius: 50%;
    filter: blur(10px);
    opacity: 0;
    animation: rise 3s infinite;
}
.s1 { width: 50px; height: 70px; left: 30px; animation-delay: 0s; }
.s2 { width: 70px; height: 90px; left: 80px; animation-delay: 1.0s; }
.s3 { width: 40px; height: 60px; left: 130px; animation-delay: 2.0s; }

@keyframes rise {
    0% { transform: translateY(100px) scale(1); opacity: 0; background: var(--steam-color);}
    30% { opacity: 0.9; }
    100% { transform: translateY(-150px) scale(3); opacity: 0; } 
}

/* --- EFEKT GEÇİŞİ (CAMERA BLOB) --- */
.camera-blob {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    width: 50px; 
    height: 50px;
    background-color: var(--coffee-dark);
    border-radius: 50%;
    z-index: 100;
    opacity: 1;
    animation: centerExplode 2.0s cubic-bezier(0.7, 0, 0.3, 1) 3.0s forwards;
}

@keyframes centerExplode {
    0% { transform: translate(-50%, -50%) scale(0); }
    100% { transform: translate(-50%, -50%) scale(800); } 
}

/* --- SIÇRAMALAR (Splash) --- */
.splashes { position: absolute; top: 0px; left: 50%; transform: translateX(-50%); width: 50px; height: 50px; z-index: 30; }
.splash { position: absolute; background-color: var(--coffee-color); border-radius: 50%; opacity: 0; }
.sp1 { width: 20px; height: 50px; animation: splashFarRight 1.5s ease-out 0.8s; }
.sp2 { width: 15px; height: 15px; animation: splashFarLeft 1.4s ease-out 0.9s; }
.sp3 { width: 25px; height: 25px; animation: splashHighLeft 1.6s ease-out 1.0s; }
@keyframes splashFarRight { 0% { top: 10px; left: 0; opacity: 1; transform: scale(1); } 100% { top: -180px; left: 250px; opacity: 0; transform: scale(0.5); } }
@keyframes splashFarLeft { 0% { top: 10px; left: 0; opacity: 1; transform: scale(1); } 100% { top: -150px; left: -250px; opacity: 0; transform: scale(0.5); } }
@keyframes splashHighLeft { 0% { top: 10px; left: 0; opacity: 1; transform: scale(1); } 100% { top: -300px; left: -100px; opacity: 0; transform: scale(0.5); } }

/* --- LOGIN FORMU --- */
#login-container { display: none; position: relative; z-index: 50; opacity: 0; }
.login-card { 
    background: rgba(255,255,255,0.95); 
    padding: 40px; 
    border-radius: 20px; 
    width: 320px; 
    text-align: center; 
    box-shadow: 0 20px 50px rgba(0,0,0,0.3); 
    animation: cardFadeIn 1s ease forwards;
    border: 3px dashed var(--coffee-dark);
}
@keyframes cardFadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

.login-brand { font-family: 'Patrick Hand', cursive; font-size: 3rem; color: var(--coffee-dark); margin: 0 0 15px 0;}
.header h2 { color: var(--coffee-dark); font-family: 'Patrick Hand', cursive; }
.input-group { margin-bottom: 15px; text-align: left; }
.input-group label { color: var(--coffee-dark); font-weight: bold; }
.input-group input { width: 100%; padding: 10px; border-radius: 8px; border: 2px solid #ccc; font-family: 'Patrick Hand', cursive; font-size: 1.1rem;}
button { width: 100%; padding: 12px; background: var(--coffee-dark); color: #fff; border:none; border-radius: 8px; cursor: pointer; font-size: 1.1rem; transition: 0.3s; }
button:hover { background: #2c1e18; }